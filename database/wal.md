# wal

为了保证数据的一致性和完整性，在对数据进行相关操作之前都会将具体的操作记录下来，持久化到可靠存储中，然后再进行具体的数据操作，这就是所谓的WAL（Write Ahead Logging），记录的相关操作称为XLOG日志，每一条日志记录都由LSN进行唯一标识。这样做的好处是事物的记录被提前记录并保存起来，在因一些外部原因（比如断电、操作系统失败等）导致操作失败后，我们可以通过保存的事物日志将这些操作重新执行一遍，保证数据不会丢失。相关操作如图所示。

![[imgs/wal.png]]
