# 信号量
同步(本身包含互斥)

信号量是一种数据结构，可以理解为一个用来计数的整数和一个队列。整数用来记录唤醒次数，而队列被用来记录因为该信号量而阻塞的进程。

信号量只支持两种操作：P/V操作。

P操作，可以理解为测试并减一。
P(signal1)，如果signal1大于0，那么把它减一，进程继续执行；
如果signal为0，那么执行P操作的进程将会被阻塞，从而变为阻塞态，添加到因为signal1信号而阻塞的进程队列中。

V操作，可以理解为+1并唤醒。
V(signal1)后，如果signal1本来就大于0，那么执行+1；
如果有进程在该信号量上被阻塞，那么从队列中根据某种策略选择一个进程唤醒。
如果多个进程在该信号量上阻塞，那么V操作后，signal1仍然可能为负数。

需要注意的是，P/V操作均应当是原子操作，即作为一个整体执行而不会被打断。
