# 分布式理论
分布式事务涉及多个节点，是一个典型的分布式系统，与单机系统有非常大的差别
一个分布式系统最多只能同时满足
    1. 一致性（Consistency）
    2. 可用性（Availability）
    3. 分区容错性（Partition tolerance）
这三项中的两项，这被称为CAP理论。

## 一致性
分布式系统中，数据一般会存在不同节点的副本中，如果对第一个节点的数据成功进行了更新操作，而第二个节点上的数据却没有得到相应更新，这时候读取第二个节点的数据依然是更新前的数据，即脏数据，这就是分布式系统数据不一致的情况。
在分布式系统中，如果能够做到针对一个数据项的更新操作执行成功后，所有的用户都能读取到最新的值，那么这样的系统就被认为具有强一致性（或严格的一致性）。
请注意CAP中的一致性和ACID中的一致性，虽然单词相同，但实际含义不同，请注意区分

## 可用性
在集群中一部分节点故障后，集群整体是否还能响应客户端的读写请求。 
在现代的互联网应用中，如果因为服务器宕机等问题，导致服务长期不可用，是不可接受的 

## 分区容错性
以实际效果而言，分区相当于对通信的时限要求。
系统如果不能在时限内达成数据一致性，就意味着发生了分区的情况，必须就当前操作在 C 和 A 之间做出选择。 
提高分区容忍性的办法就是一个数据项复制到多个节点上，那么出现分区之后，这一数据项仍然能在其他区中读取，容忍性就提高了。
然而，把数据复制到多个节点，就会带来一致性的问题，就是多个节点上面的数据可能是不一致的。 
